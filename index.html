<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard Orcamento SESAUD 2026</title>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Segoe UI', Arial; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); min-height: 100vh; padding: 20px; }
        .container { max-width: 1400px; margin: 0 auto; }
        header { background: white; padding: 40px; border-radius: 12px; margin-bottom: 30px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); text-align: center; }
        header h1 { color: #667eea; font-size: 42px; margin-bottom: 10px; }
        header p { color: #666; font-size: 16px; }
        .emoji { font-size: 56px; margin-bottom: 10px; }
        
        .tabs { display: flex; gap: 10px; margin-bottom: 30px; background: white; padding: 20px; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); flex-wrap: wrap; justify-content: center; }
        .tab-btn { padding: 12px 24px; border: 2px solid #ddd; background: white; border-radius: 8px; cursor: pointer; font-weight: 600; transition: all 0.3s; }
        .tab-btn.active { background: #667eea; color: white; border-color: #667eea; }
        .tab-btn:hover { border-color: #667eea; }
        
        .tab-content { display: none; }
        .tab-content.active { display: block; }
        
        .resumo-geral { display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: 20px; margin-bottom: 30px; }
        .card-grande { background: white; padding: 30px; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        .card-titulo { color: #667eea; font-size: 14px; text-transform: uppercase; font-weight: 600; margin-bottom: 10px; }
        .card-valor { font-size: 32px; font-weight: 700; color: #1a1a1a; }
        .card-sub { font-size: 12px; color: #999; margin-top: 5px; }
        
        .graficos { display: grid; grid-template-columns: repeat(auto-fit, minmax(500px, 1fr)); gap: 20px; margin-bottom: 30px; }
        .grafico-container { background: white; padding: 30px; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); }
        .grafico-titulo { color: #667eea; font-size: 18px; font-weight: 600; margin-bottom: 20px; }
        
        .tabela-container { background: white; padding: 30px; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); overflow-x: auto; }
        .tabela-titulo { color: #667eea; font-size: 18px; font-weight: 600; margin-bottom: 20px; }
        table { width: 100%; border-collapse: collapse; }
        th { background: #f5f5f5; padding: 15px; text-align: left; border-bottom: 2px solid #ddd; font-weight: 600; color: #333; }
        td { padding: 12px 15px; border-bottom: 1px solid #eee; }
        tr:hover { background: #f9f9f9; }
        .numero { text-align: right; font-weight: 600; }
        .percentual { background: linear-gradient(90deg, #667eea, #764ba2); color: white; padding: 4px 12px; border-radius: 12px; font-size: 12px; font-weight: 600; }
        
        .comparacao { display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; }
        .card-categoria { background: white; padding: 20px; border-radius: 12px; border-left: 4px solid #667eea; box-shadow: 0 2px 8px rgba(0,0,0,0.08); }
        .cat-nome { font-weight: 600; color: #1a1a1a; margin-bottom: 12px; font-size: 14px; }
        .cat-valores { display: grid; grid-template-columns: 1fr 1fr; gap: 10px; font-size: 13px; }
        .cat-label { color: #999; }
        .cat-valor { font-weight: 600; color: #667eea; }
        
        footer { background: white; padding: 20px; border-radius: 12px; text-align: center; color: #999; font-size: 12px; margin-top: 30px; }
        
        .linha-nova { background: #fffacd !important; }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="emoji">ðŸ’°</div>
            <h1>Dashboard Orcamento SESAUD 2026</h1>
            <p>Analise comparativa Fundacao ABC vs SESAUD</p>
        </header>
        
        <div class="tabs">
            <button class="tab-btn active" onclick="mostrarAba('resumo')">Resumo Geral</button>
            <button class="tab-btn" onclick="mostrarAba('graficos')">Graficos</button>
            <button class="tab-btn" onclick="mostrarAba('tabela')">Tabela Detalhada</button>
            <button class="tab-btn" onclick="mostrarAba('comparacao')">Comparacoes</button>
        </div>
        
        <!-- ABA RESUMO -->
        <div id="resumo" class="tab-content active">
            <div class="resumo-geral">
                <div class="card-grande">
                    <div class="card-titulo">Total Fundacao ABC</div>
                    <div class="card-valor">R$ 32.522.889</div>
                    <div class="card-sub">Orcamento 2026</div>
                </div>
                <div class="card-grande">
                    <div class="card-titulo">Total SESAUD</div>
                    <div class="card-valor">R$ 89.010.721</div>
                    <div class="card-sub">Orcamento 2026 (Atualizado)</div>
                </div>
                <div class="card-grande">
                    <div class="card-titulo">Diferenca</div>
                    <div class="card-valor">R$ 56.487.832</div>
                    <div class="card-sub">SESAUD acima de 173%</div>
                </div>
                <div class="card-grande">
                    <div class="card-titulo">Categoria Maior (Fundacao)</div>
                    <div class="card-valor">Recursos Humanos</div>
                    <div class="card-sub">R$ 14.549.944 (44,7%)</div>
                </div>
                <div class="card-grande">
                    <div class="card-titulo">Categoria Maior (SESAUD)</div>
                    <div class="card-valor">Recursos Humanos</div>
                    <div class="card-sub">R$ 78.980.441 (88,7%)</div>
                </div>
            </div>
        </div>
        
        <!-- ABA GRAFICOS -->
        <div id="graficos" class="tab-content">
            <div class="graficos">
                <div class="grafico-container">
                    <div class="grafico-titulo">Distribuicao Fundacao ABC</div>
                    <canvas id="grafico1"></canvas>
                </div>
                <div class="grafico-container">
                    <div class="grafico-titulo">Distribuicao SESAUD</div>
                    <canvas id="grafico2"></canvas>
                </div>
            </div>
            <div class="grafico-container" style="grid-column: 1/-1;">
                <div class="grafico-titulo">Comparacao por Categoria (Top 10)</div>
                <canvas id="grafico3" style="max-height: 400px;"></canvas>
            </div>
        </div>
        
        <!-- ABA TABELA -->
        <div id="tabela" class="tab-content">
            <div class="tabela-container">
                <div class="tabela-titulo">Detalhamento Completo de Despesas</div>
                <table>
                    <thead>
                        <tr>
                            <th>Categoria Principal</th>
                            <th class="numero">Fundacao ABC</th>
                            <th class="numero">SESAUD 2026</th>
                            <th class="numero">Diferenca</th>
                            <th class="numero">% SESAUD</th>
                        </tr>
                    </thead>
                    <tbody id="tabelaBody"></tbody>
                </table>
            </div>
        </div>
        
        <!-- ABA COMPARACAO -->
        <div id="comparacao" class="tab-content">
            <div class="comparacao" id="comparacaoGrid"></div>
        </div>
    </div>
    
    <footer>
        <p>Dashboard Orcamento SESAUD 2026 | Dados atualizados com Plantoes e Alugueis | Desenvolvido com Analytics</p>
    </footer>

    <script>
        const dados = {
            "RECURSOS HUMANOS": { "Fundacao": 14549944.75, "SESAUD": 78980441.62 },
            "PROCESSOS TRABALHISTAS": { "Fundacao": 0.00, "SESAUD": 2944.00 },
            "MATERIAIS DE CONSUMO": { "Fundacao": 3085899.09, "SESAUD": 599300.63 },
            "SERVICOS DE TERCEIROS": { "Fundacao": 13583505.23, "SESAUD": 3952043.98 },
            "LOCACAO": { "Fundacao": 813390.00, "SESAUD": 96530.36 },
            "INVESTIMENTOS": { "Fundacao": 382950.00, "SESAUD": 1410311.79 },
            "Combustivel": { "Fundacao": 500.00, "SESAUD": 43201.59 },
            "Utilidades, Energia, Agua, coleta de lixo e internet": { "Fundacao": 7000.00, "SESAUD": 547260.90 },
            "Despesas financeiras e bancarias": { "Fundacao": 200.00, "SESAUD": 0.00 },
            "Outras despesas": { "Fundacao": 5500.00, "SESAUD": 367402.46 },
            "Despesas de Rateio": { "Fundacao": 90000.00, "SESAUD": 0.00 },
            "Apoio Tecnico": { "Fundacao": 0.00, "SESAUD": 0.00 },
            "Custas Processos Judiciais": { "Fundacao": 3000.00, "SESAUD": 0.00 },
            "Despesas Administrativas": { "Fundacao": 1000.00, "SESAUD": 49955.74 },
            "PLANTOES": { "Fundacao": 0.00, "SESAUD": 2854800.00 },
            "ALUGUEIS DE EQUIPAMENTOS": { "Fundacao": 0.00, "SESAUD": 57528.00 }
        };
        
        function formatarMoeda(valor) {
            return new Intl.NumberFormat('pt-BR', { style: 'currency', currency: 'BRL' }).format(valor);
        }
        
        function mostrarAba(aba) {
            document.querySelectorAll('.tab-content').forEach(el => el.classList.remove('active'));
            document.querySelectorAll('.tab-btn').forEach(el => el.classList.remove('active'));
            document.getElementById(aba).classList.add('active');
            event.target.classList.add('active');
            
            if (aba === 'graficos') {
                setTimeout(criarGraficos, 100);
            } else if (aba === 'tabela') {
                criarTabela();
            } else if (aba === 'comparacao') {
                criarComparacao();
            }
        }
        
        function criarTabela() {
            const tbody = document.getElementById('tabelaBody');
            tbody.innerHTML = '';
            
            let totalFundacao = 0;
            let totalSESAUD = 0;
            
            for (const [categoria, valores] of Object.entries(dados)) {
                totalFundacao += valores.Fundacao;
                totalSESAUD += valores.SESAUD;
                
                const diferenca = valores.SESAUD - valores.Fundacao;
                const percentualSESAUD = ((valores.SESAUD / (valores.SESAUD + valores.Fundacao)) * 100).toFixed(1);
                
                const ehNovaLinha = categoria === "PLANTOES" || categoria === "ALUGUEIS DE EQUIPAMENTOS";
                const classeLinhaNovaS = ehNovaLinha ? 'linha-nova' : '';
                
                tbody.innerHTML += `
                    <tr class="${classeLinhaNovaS}">
                        <td><strong>${categoria}</strong></td>
                        <td class="numero">${formatarMoeda(valores.Fundacao)}</td>
                        <td class="numero">${formatarMoeda(valores.SESAUD)}</td>
                        <td class="numero">${formatarMoeda(diferenca)}</td>
                        <td class="numero"><span class="percentual">${percentualSESAUD}%</span></td>
                    </tr>
                `;
            }
            
            tbody.innerHTML += `
                <tr style="background: #f5f5f5; font-weight: 700;">
                    <td>TOTAL</td>
                    <td class="numero">${formatarMoeda(totalFundacao)}</td>
                    <td class="numero">${formatarMoeda(totalSESAUD)}</td>
                    <td class="numero">${formatarMoeda(totalSESAUD - totalFundacao)}</td>
                    <td class="numero"><span class="percentual">${((totalSESAUD / (totalSESAUD + totalFundacao)) * 100).toFixed(1)}%</span></td>
                </tr>
            `;
        }
        
        function criarComparacao() {
            const grid = document.getElementById('comparacaoGrid');
            grid.innerHTML = '';
            
            for (const [categoria, valores] of Object.entries(dados)) {
                const ehNovaLinha = categoria === "PLANTOES" || categoria === "ALUGUEIS DE EQUIPAMENTOS";
                const estilo = ehNovaLinha ? 'background: #fffacd;' : '';
                
                grid.innerHTML += `
                    <div class="card-categoria" style="${estilo}">
                        <div class="cat-nome">${categoria}</div>
                        <div class="cat-valores">
                            <div><span class="cat-label">Fundacao</span></div>
                            <div><span class="cat-valor">${formatarMoeda(valores.Fundacao)}</span></div>
                            <div><span class="cat-label">SESAUD</span></div>
                            <div><span class="cat-valor">${formatarMoeda(valores.SESAUD)}</span></div>
                        </div>
                    </div>
                `;
            }
        }
        
        function criarGraficos() {
            const categorias = [];
            const fundacao = [];
            const sesaud = [];
            
            for (const [categoria, valores] of Object.entries(dados)) {
                let nomeCurto = categoria;
                if (categoria.length > 25) {
                    nomeCurto = categoria.substring(0, 22) + '...';
                }
                categorias.push(nomeCurto);
                fundacao.push(valores.Fundacao);
                sesaud.push(valores.SESAUD);
            }
            
            const cores = ['#667eea', '#764ba2', '#f093fb', '#4facfe', '#00f2fe', '#43e97b', '#fa709a', '#fee140', '#30cfd0', '#330867', '#ec008c', '#a8edea', '#ffd89b', '#19547b', '#ffd89b'];
            
            new Chart(document.getElementById('grafico1'), {
                type: 'doughnut',
                data: {
                    labels: categorias,
                    datasets: [{
                        data: fundacao,
                        backgroundColor: cores
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: { position: 'bottom', labels: { font: { size: 10 } } }
                    }
                }
            });
            
            new Chart(document.getElementById('grafico2'), {
                type: 'doughnut',
                data: {
                    labels: categorias,
                    datasets: [{
                        data: sesaud,
                        backgroundColor: cores
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        legend: { position: 'bottom', labels: { font: { size: 10 } } }
                    }
                }
            });
            
            new Chart(document.getElementById('grafico3'), {
                type: 'bar',
                data: {
                    labels: categorias,
                    datasets: [
                        {
                            label: 'Fundacao ABC',
                            data: fundacao,
                            backgroundColor: '#667eea'
                        },
                        {
                            label: 'SESAUD 2026',
                            data: sesaud,
                            backgroundColor: '#764ba2'
                        }
                    ]
                },
                options: {
                    responsive: true,
                    indexAxis: 'y',
                    plugins: {
                        legend: { position: 'bottom' }
                    },
                    scales: {
                        x: { ticks: { callback: function(value) { return 'R$ ' + (value / 1000000).toFixed(1) + 'M'; } } }
                    }
                }
            });
        }
        
        criarTabela();
    </script>
</body>
</html>